// Step Event for NPC objects

// Increment the animation index
animation_index += 1;

// Loop the animation index if it exceeds the array length
if (animation_index >= array_length(animations)) {
    animation_index = 0;
}

// Set the sprite to the current animation
sprite_index = animations[animation_index];

// Handle player interaction
if (place_meeting(x, y, obj_player) && keyboard_check_pressed(vk_space)) {
    global.chat_active = true;
    global.chat_npc = id;
}